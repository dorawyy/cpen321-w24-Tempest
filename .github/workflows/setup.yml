name: Setup Private Json
on:
  push:
    branches:
      - main
env:
  PRIVATE_KEY: ${{ secrets.PRIVATE_KEY }}
  
steps:
  - name: Create service account JSON
    run: |
      echo '{
        "type": "service_account",
        "project_id": "tempestmap-f0234",
        "private_key_id": "cb8db3f6e98e0bc166291808c78a0684a57a18e2",
        "private_key": "'"$PRIVATE_KEY"'",
        "client_email": "firebase-adminsdk-fbsvc@tempestmap-f0234.iam.gserviceaccount.com",
        "client_id": "107007959838485127095",
        "auth_uri": "https://accounts.google.com/o/oauth2/auth",
        "token_uri": "https://oauth2.googleapis.com/token",
        "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
        "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40tempestmap-f0234.iam.gserviceaccount.com",
        "universe_domain": "googleapis.com"
      }' > service-account.json
